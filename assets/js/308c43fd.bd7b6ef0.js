"use strict";(self.webpackChunkreact_native_iap_docs=self.webpackChunkreact_native_iap_docs||[]).push([[8896],{571:(r,e,n)=>{n.d(e,{A:()=>a});var o=n(6540),t=n(4848);function s({className:r="adfit",style:e,unit:n,height:s,width:a}){return(0,o.useEffect)(()=>{const e=setTimeout(()=>{const e=document.querySelector(`.${r}`);if(!e)return void console.warn(`AdFit: Element with class "${r}" not found`);const o=e.querySelectorAll(".kakao_ad_area"),t=e.querySelectorAll('script[src*="kas/static/ba.min.js"]');o.forEach(r=>r.remove()),t.forEach(r=>r.remove());const c=document.createElement("ins"),i=document.createElement("script");c.className="kakao_ad_area",c.style.cssText="display:none; width:100%;",i.async=!0,i.type="text/javascript",i.src="//t1.daumcdn.net/kas/static/ba.min.js",c.setAttribute("data-ad-width",a.toString()),c.setAttribute("data-ad-height",s.toString()),c.setAttribute("data-ad-unit",n),e.appendChild(c),e.appendChild(i)},100);return()=>clearTimeout(e)},[r,n,s,a]),(0,t.jsx)("div",{style:e,children:(0,t.jsx)("div",{className:r})})}function a(){return(0,t.jsx)(s,{unit:"DAN-YTmjDwlbcP42HBg6",height:100,width:320,className:"adfit-top",style:{flex:1,marginTop:24,marginBottom:24}})}},8453:(r,e,n)=>{n.d(e,{R:()=>a,x:()=>c});var o=n(6540);const t={},s=o.createContext(t);function a(r){const e=o.useContext(s);return o.useMemo(function(){return"function"==typeof r?r(e):{...e,...r}},[e,r])}function c(r){let e;return e=r.disableParentContext?"function"==typeof r.components?r.components(t):r.components||t:a(r.components),o.createElement(s.Provider,{value:e},r.children)}},8848:(r,e,n)=>{n.r(e),n.d(e,{assets:()=>d,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"api/error-handling","title":"Error Handling","description":"All methods can throw errors that should be handled appropriately. Use the PurchaseError type and helper functions for consistent, cross\u2011platform error information.","source":"@site/docs/api/error-handling.md","sourceDirName":"api","slug":"/api/error-handling","permalink":"/react-native-iap/docs/api/error-handling","draft":false,"unlisted":false,"editUrl":"https://github.com/hyochan/react-native-iap/tree/main/docs/docs/api/error-handling.md","tags":[],"version":"current","frontMatter":{"title":"Error Handling","sidebar_label":"Error Handling"}}');var t=n(4848),s=n(8453),a=n(571);const c={title:"Error Handling",sidebar_label:"Error Handling"},i="Error Handling",d={},l=[{value:"Error Types",id:"error-types",level:2},{value:"PurchaseError",id:"purchaseerror",level:3},{value:"ErrorCode Enum",id:"errorcode-enum",level:3},{value:"Error Codes",id:"error-codes",level:2}];function h(r){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...r.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"error-handling",children:"Error Handling"})}),"\n",(0,t.jsx)(a.A,{}),"\n",(0,t.jsxs)(e.p,{children:["All methods can throw errors that should be handled appropriately. Use the ",(0,t.jsx)(e.code,{children:"PurchaseError"})," type and helper functions for consistent, cross\u2011platform error information."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"import {\n  PurchaseError,\n  requestPurchase,\n  isUserCancelledError,\n  isNetworkError,\n  getUserFriendlyErrorMessage,\n  ErrorCode,\n} from 'react-native-iap';\n\ntry {\n  await requestPurchase({request: {sku: 'product_id'}});\n} catch (error) {\n  // Check for user cancellation\n  if (isUserCancelledError(error)) {\n    console.log('User cancelled purchase');\n    return;\n  }\n\n  // Check for network errors\n  if (isNetworkError(error)) {\n    console.log('Network error, please try again');\n    return;\n  }\n\n  // Get user-friendly error message\n  const friendlyMessage = getUserFriendlyErrorMessage(error);\n  console.error('Purchase failed:', friendlyMessage);\n\n  // Or access error details directly\n  if (error instanceof PurchaseError) {\n    console.error(`Error code: ${error.code}, Message: ${error.message}`);\n  }\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"error-types",children:"Error Types"}),"\n",(0,t.jsx)(e.h3,{id:"purchaseerror",children:"PurchaseError"}),"\n",(0,t.jsxs)(e.p,{children:["The ",(0,t.jsx)(e.code,{children:"PurchaseError"})," interface extends the standard ",(0,t.jsx)(e.code,{children:"Error"})," class with additional purchase-specific properties:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"interface PurchaseError extends Error {\n  code?: ErrorCode;\n  responseCode?: number;\n  debugMessage?: string;\n  productId?: string;\n  platform?: IapPlatform;\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"errorcode-enum",children:"ErrorCode Enum"}),"\n",(0,t.jsxs)(e.p,{children:["Use the ",(0,t.jsx)(e.code,{children:"ErrorCode"})," enum for type-safe error code comparisons:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-ts",children:"import {ErrorCode} from 'react-native-iap';\n\nif (error instanceof PurchaseError && error.code === ErrorCode.UserCancelled) {\n  // Handle user cancellation\n}\n"})}),"\n",(0,t.jsx)(e.h2,{id:"error-codes",children:"Error Codes"}),"\n",(0,t.jsx)(e.p,{children:"For the complete list of error codes and their meanings, see the reference below."}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:(0,t.jsx)(e.a,{href:"./error-codes",children:"Error Codes"})}),"\n"]})]})}function u(r={}){const{wrapper:e}={...(0,s.R)(),...r.components};return e?(0,t.jsx)(e,{...r,children:(0,t.jsx)(h,{...r})}):h(r)}}}]);
"use strict";(self.webpackChunkreact_native_iap_docs=self.webpackChunkreact_native_iap_docs||[]).push([[812],{2882:e=>{e.exports=JSON.parse('{"permalink":"/react-native-iap/blog/release-14.4.0","editUrl":"https://github.com/hyochan/react-native-iap/tree/main/docs/blog/2025-09-22-release-14.4.0.md","source":"@site/blog/2025-09-22-release-14.4.0.md","title":"Release 14.4.0 - Full OpenIAP Ecosystem Adoption","description":"React Native IAP 14.4.0 graduates into the full OpenIAP ecosystem with unified native stacks, improved error handling, and streamlined purchase flows.","date":"2025-09-22T00:00:00.000Z","tags":[{"inline":false,"label":"Release","permalink":"/react-native-iap/blog/tags/release","description":"New version releases and updates"}],"readingTime":2.64,"hasTruncateMarker":true,"authors":[{"name":"Hyo","title":"React Native IAP Maintainer","url":"https://github.com/hyochan","page":{"permalink":"/react-native-iap/blog/authors/hyochan"},"socials":{"github":"https://github.com/hyochan","linkedin":"https://www.linkedin.com/in/hyochanjang/","x":"https://x.com/hyodotdev"},"imageURL":"https://github.com/hyochan.png","key":"hyochan"}],"frontMatter":{"slug":"release-14.4.0","title":"Release 14.4.0 - Full OpenIAP Ecosystem Adoption","authors":["hyochan"],"tags":["release"],"description":"React Native IAP 14.4.0 graduates into the full OpenIAP ecosystem with unified native stacks, improved error handling, and streamlined purchase flows.","image":"https://github.com/hyochan/react-native-iap/raw/main/docs/static/img/logo.png"},"unlisted":false,"nextItem":{"title":"Release 14.3.0","permalink":"/react-native-iap/blog/2025/09/13/release-14.3.0"}}')},4956:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var s=i(2882),t=i(4848),r=i(8453);const a={slug:"release-14.4.0",title:"Release 14.4.0 - Full OpenIAP Ecosystem Adoption",authors:["hyochan"],tags:["release"],description:"React Native IAP 14.4.0 graduates into the full OpenIAP ecosystem with unified native stacks, improved error handling, and streamlined purchase flows.",image:"https://github.com/hyochan/react-native-iap/raw/main/docs/static/img/logo.png"},o="React Native IAP 14.4.0",l={authorsImageUrls:[void 0]},c=[{value:"\ud83d\ude80 Highlights",id:"-highlights",level:2},{value:"\ud83d\udd01 OpenIAP Upgrades",id:"-openiap-upgrades",level:2},{value:"\ud83d\udc1e Bug Fixes",id:"-bug-fixes",level:2},{value:"\ud83d\udee1\ufe0f Safer Purchases &amp; Better Errors",id:"\ufe0f-safer-purchases--better-errors",level:2},{value:"\ud83d\udee0\ufe0f Tooling &amp; Workflow",id:"\ufe0f-tooling--workflow",level:2},{value:"\u26a0\ufe0f Important Changes",id:"\ufe0f-important-changes",level:2},{value:"\ud83d\udce6 Installation",id:"-installation",level:2},{value:"\ud83d\udd17 References",id:"-references",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://github.com/hyochan/react-native-iap/raw/main/docs/static/img/logo.png",alt:"React Native IAP Logo"})}),"\n",(0,t.jsx)(n.p,{children:"React Native IAP 14.4.0 graduates the project into the full OpenIAP ecosystem. The release ships with three dedicated native stacks:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/openiap/apple",children:(0,t.jsx)(n.strong,{children:"openiap-apple"})})," \u2014 StoreKit 2 implementation for Apple platforms"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/openiap/google",children:(0,t.jsx)(n.strong,{children:"openiap-google"})})," \u2014 Google Play Billing integration for Android"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/openiap/gql",children:(0,t.jsx)(n.strong,{children:"openiap-gql"})})," \u2014 GraphQL helpers that drive types and tooling"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"From 14.4.0 onward, React Native IAP stays in lockstep with these modules: Apple v1.2.2, Google v1.2.6, and GQL v1.0.8. That shared version alignment gives React Native IAP stable native compatibility and a unified type system straight from the OpenIAP schema."}),"\n",(0,t.jsx)(n.h2,{id:"-highlights",children:"\ud83d\ude80 Highlights"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Adopted the full OpenIAP core stack\u2014",(0,t.jsx)(n.strong,{children:"openiap-gql"}),", ",(0,t.jsx)(n.strong,{children:"openiap-apple v1.2.2"}),", and ",(0,t.jsx)(n.strong,{children:"openiap-google v1.2.6"}),"\u2014bringing React Native IAP into alignment with the shared ecosystem used across Flutter, React Native, and KMP."]}),"\n",(0,t.jsxs)(n.li,{children:["Trimmed roughly ",(0,t.jsx)(n.strong,{children:"two thirds"})," of our custom native bridge code by delegating logic to the OpenIAP modules."]}),"\n",(0,t.jsxs)(n.li,{children:["Expanded automated coverage to about ",(0,t.jsx)(n.strong,{children:"98%"}),", spanning purchase flows, native bridge entry points, and error mapping utilities."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-openiap-upgrades",children:"\ud83d\udd01 OpenIAP Upgrades"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Normalized purchase payloads on both platforms so every bridge call sanitizes platform casing and forwards the complete OpenIAP record."}),"\n",(0,t.jsx)(n.li,{children:"Migrated Android to the new RequestPurchaseProps / PurchaseResult / ErrorCode contracts, achieving parity with the Apple module."}),"\n",(0,t.jsxs)(n.li,{children:["Centralized native dependency versions via ",(0,t.jsx)(n.a,{href:"https://github.com/hyochan/react-native-iap/blob/main/openiap-versions.json",children:(0,t.jsx)(n.code,{children:"openiap-versions.json"})}),"; Gradle now fails fast if the Google artifact version is missing and scripts/migrations read from one source of truth."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-bug-fixes",children:"\ud83d\udc1e Bug Fixes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"fix(android)"}),": honor subscription offerToken (",(0,t.jsx)(n.a,{href:"https://github.com/hyochan/react-native-iap/pull/214",children:"#214"}),") restores proper handling of ",(0,t.jsx)(n.code,{children:"subscriptionOfferDetailsAndroid"})," so Google Play discounts apply reliably."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-safer-purchases--better-errors",children:"\ud83d\udee1\ufe0f Safer Purchases & Better Errors"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"requestPurchase"})," on iOS explicitly rejects unsupported product types instead of silently treating all as in-app."]}),"\n",(0,t.jsx)(n.li,{children:"Error handling now consistently routes through the shared ErrorCode table so promise rejections, platform conversions, and predicates remain aligned."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-tooling--workflow",children:"\ud83d\udee0\ufe0f Tooling & Workflow"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Contributor docs clarify how to bump OpenIAP packages, regenerate types, and keep ",(0,t.jsx)(n.code,{children:"openiap-versions.json"})," synchronized for Android and iOS builds."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-important-changes",children:"\u26a0\ufe0f Important Changes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Transaction identifiers"}),": ",(0,t.jsx)(n.code,{children:"transactionId"})," is reinstated as the primary store reference (",(0,t.jsx)(n.code,{children:"orderId"})," on Android, StoreKit transaction ID on iOS). Android's generic ",(0,t.jsx)(n.code,{children:"id"})," is no longer repurposed for orders; when Google Play omits an ",(0,t.jsx)(n.code,{children:"orderId"})," (typical for consumables), ",(0,t.jsx)(n.code,{children:"transactionId"})," becomes ",(0,t.jsx)(n.code,{children:"null"})," and clients should rely on the unified ",(0,t.jsx)(n.code,{children:"purchaseToken"})," (Android purchase token / iOS JWS). This value is the canonical receipt for server validation."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"iOS request types"}),": purchase requests must specify either ",(0,t.jsx)(n.code,{children:"in-app"})," or ",(0,t.jsx)(n.code,{children:"subs"}),". Passing ",(0,t.jsx)(n.code,{children:"all"})," (or any other type) throws an explicit error."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Promoted products"}),": events now emit the full sanitized product payload; downstream listeners should expect the entire object instead of just ",(0,t.jsx)(n.code,{children:"productId"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"-installation",children:"\ud83d\udce6 Installation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install react-native-iap@14.4.0\n# or\nyarn add react-native-iap@14.4.0\n# or\nbun add react-native-iap@14.4.0\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-references",children:"\ud83d\udd17 References"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Recent work: ",(0,t.jsx)(n.a,{href:"https://github.com/hyochan/react-native-iap/pulls?q=is%3Apr+is%3Aclosed",children:"Closed pull requests"})]}),"\n",(0,t.jsxs)(n.li,{children:["Release builds on the OpenIAP ecosystem: ",(0,t.jsx)(n.a,{href:"https://openiap.dev",children:"openiap.dev"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Enjoy the smoother upgrade path and richer diagnostics shipped in 14.4.0! Let us know how it goes via ",(0,t.jsx)(n.a,{href:"https://github.com/hyochan/react-native-iap/issues",children:"GitHub issues"}),"."]}),"\n",(0,t.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var s=i(6540);const t={},r=s.createContext(t);function a(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);